---
layout: post
title: "Установка Growl 1.3.x на Lion"
category: 
tags: ['osx', 'lion', 'cli']
---
Внезапно оказалось, что удобная система нотификаций Growl [перешла в категорию платных](http://apple.slashdot.org/story/11/10/20/1757226/os-x-notifier-app-growl-goes-closed-source). Для меня лично она является частью лица OSX, такая удобная неотъемлемая часть к которой уже привык и отказываться не хотелось бы. Я бы и не знал о изменениях, если бы Growl не начал показывать каждый день уведомления, что пора бы обновиться и не отправлять на страницу где радостно сообщать что версия теперь стоит два бакса. Помимо того что дело в деньгах неприятный осадок добавляет то, что продукт всегда был с открытым кодом. И лично для меня был носителем духа того времени когда пользователи Mac собирались в Москве для того чтобы прочитать друг-другу лекцию о системе, купить их можно было практически только на руках. Все было маленькое и дружное. То есть еще в то время когда уже появился первый iPod Classic, но не было шуток про геев. Хотя сам Growl вышел несколько позже.

В общем хватит соплей и восспоминаний. Если у вас нет XCode, то проще конечно же купить. Если есть, то сможете скачать и собрать из исходников. Нужно:

- Установленный XCode
- mercurial (проверочное слово `hg --version`)
- умение запустить Terminal.app

Первый шаг это получить актуальную копию исходников, они доступны на странице проекта на хостинге Google Code [growl.googlecode.com](http://growl.googlecode.com/):

{% highlight bash %}
$ cd /tmp
$ hg clone https://code.google.com/p/growl/
$ cd growl
{% endhighlight %}

Теперь одно из двух, либо надо создать сертификат, либо убрать его упоминание из конфигурации проекта в XCode. Если честно, то процедура запуска и индексации проекта выглядит настолько громоздко, что я бы рекомендовал обойтись без этого. Тем более, что даже на официальной странице с инструкцией указано, что могут быть проблемы в файле `hgrevision.h`. Они у меня возникли и рекомендованная попытка понажимать кнопку `Build` не сработала. Поэтому нафиг XCode, будем генерировать сертификат разработчика, если хотите посмотреть что произойдет если пропустить этот пункт, то попробуйте скомпилировать сразу:

- Запустите **Keychain Access.app**
- Зайдите в меню приложения (рядом с  пункт с названием приложения)
- Certificate Assistant > Create a certificate
- В появившемся диалоге укажите название "*3rd Party Mac Developer Application: The Growl Project, LLC*" (без кавычек), и тип сертификата *Code*.

Теперь можно запускать компиляцию:

{% highlight bash %}
$ xcodebuild -project Growl.xcodeproj -target Growl.app -configuration Release
$ open build/Release
{% endhighlight %}

Появится диалог запрашивающий доступ с сертификату, чтобы не тратить время разрешите навсегда, через пару минут все будет готово. Последняя команда откроет в **Finder.app** папку в которой будет лежать файл **Growl.app**. Его надо перенести в `/Applications/` и запустить.

Мне привычно было пользоваться Growl в панели управления, но разработчики пошли по другому пути. 

Дополнительные ссылки:

- [Инструкция как выключить провеку сертификата](http://pragmactic-osxer.blogspot.com/2011/11/building-growl.html)
- [Официальная инструкция для разработчика](http://growl.info/documentation/developer/growl-source-install.php) на официальном сайте (на самом сайте найти сложно, пришлось через поиск) 
- Must have утилитка для работы с Growl через командную строку [growlnotify](https://github.com/indirect/growlnotify) которая раньше была в официально .DMG файле.
